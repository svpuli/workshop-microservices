version: '3'
services:

  # "microservices"
  # --------------------------------------------------------------------------------------

  giphy-api:
    build: giphy-api/.
    ports:
      - 5574:5574
    volumes:
      - ./giphy-api:/app/
    depends_on:
      - registrator

  news-api:
    build: news-api/.
    ports:
      - 5474:5474
    volumes:
      - ./news-api:/app/
    depends_on:
      - registrator

  search-api:
    build: search-api/.
    ports:
      - 5000:5000
      - 5674:5674
    volumes:
      - ./search-api:/app/
    depends_on:
      - registrator

  search-ui:
    build: search-ui/.
    ports:
      - 8080:80
    volumes:
      - ./search-ui:/var/www/html
    depends_on:
      - registrator
